<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Linear reformulation · EnergyModelsHydrogen</title><meta name="title" content="Linear reformulation · EnergyModelsHydrogen"/><meta property="og:title" content="Linear reformulation · EnergyModelsHydrogen"/><meta property="twitter:title" content="Linear reformulation · EnergyModelsHydrogen"/><meta name="description" content="Documentation for EnergyModelsHydrogen."/><meta property="og:description" content="Documentation for EnergyModelsHydrogen."/><meta property="twitter:description" content="Documentation for EnergyModelsHydrogen."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">EnergyModelsHydrogen</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../../manual/quick-start/">Quick Start</a></li><li><a class="tocitem" href="../../manual/simple-example/">Examples</a></li><li><a class="tocitem" href="../../manual/NEWS/">Release notes</a></li></ul></li><li><span class="tocitem">Nodes</span><ul><li><a class="tocitem" href="../../nodes/electrolyzer/">Electrolyzer</a></li><li><a class="tocitem" href="../../nodes/reformer/">Reformer</a></li><li><a class="tocitem" href="../../nodes/h2_storage/">H₂ storage</a></li></ul></li><li><span class="tocitem">How to</span><ul><li><a class="tocitem" href="../../how-to/contribute/">Contribute to EnergyModelsHydrogen</a></li></ul></li><li><span class="tocitem">Auxiliary functions</span><ul><li class="is-active"><a class="tocitem" href>Linear reformulation</a><ul class="internal"><li><a class="tocitem" href="#aux-lin_reform-bin_con"><span>Product of continuous and binary variable</span></a></li><li><a class="tocitem" href="#aux-lin_reform-bin_bin"><span>Product of two binary variablees</span></a></li></ul></li><li><a class="tocitem" href="../pressure_calc/">Compression energy</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../../library/public/">Public</a></li><li><input class="collapse-toggle" id="menuitem-6-2" type="checkbox"/><label class="tocitem" for="menuitem-6-2"><span class="docs-label">Internals</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../library/internals/types-EMH/">Types</a></li><li><a class="tocitem" href="../../library/internals/methods-fields/">Methods - Accessing fields</a></li><li><a class="tocitem" href="../../library/internals/methods-EMH/">Methods - Internal</a></li><li><a class="tocitem" href="../../library/internals/methods-EMB/">Methods - <code>EnergyModelsBase</code></a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Auxiliary functions</a></li><li class="is-active"><a href>Linear reformulation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Linear reformulation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/EnergyModelsX/EnergyModelsHydrogen.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/EnergyModelsX/EnergyModelsHydrogen.jl/blob/main/docs/src/aux-fun/lin-reform.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="aux-lin_reform"><a class="docs-heading-anchor" href="#aux-lin_reform">Linear reformulation</a><a id="aux-lin_reform-1"></a><a class="docs-heading-anchor-permalink" href="#aux-lin_reform" title="Permalink"></a></h1><h2 id="aux-lin_reform-bin_con"><a class="docs-heading-anchor" href="#aux-lin_reform-bin_con">Product of continuous and binary variable</a><a id="aux-lin_reform-bin_con-1"></a><a class="docs-heading-anchor-permalink" href="#aux-lin_reform-bin_con" title="Permalink"></a></h2><h3 id="aux-lin_reform-bin_con-gen"><a class="docs-heading-anchor" href="#aux-lin_reform-bin_con-gen">General approach</a><a id="aux-lin_reform-bin_con-gen-1"></a><a class="docs-heading-anchor-permalink" href="#aux-lin_reform-bin_con-gen" title="Permalink"></a></h3><p>Consider the product <span>$z$</span> between a continuous variable <span>$x$</span> and a binary variable <span>$y$</span> with <span>$x$</span> being constrained as <span>$x \in [lb, ub]$</span>. In this case, it is possible to reformulate the product through linear inequality constraints:</p><p class="math-container">\[\begin{aligned}
lb \times y \leq &amp; z \leq ub \times y \\
ub (y-1) + x \leq &amp; z \leq lb (1-y) + x
\end{aligned}\]</p><p>The first line enforces that if <span>$y = 1$</span>, then <span>$z \in [lb, ub]$</span>, otherwise, <span>$z = 0$</span>. The second line enforces that <span>$z = x$</span> if <span>$y = 1$</span>. The constraint is inactive if <span>$y = 0$</span>.</p><h3 id="aux-lin_reform-bin_con-idx"><a class="docs-heading-anchor" href="#aux-lin_reform-bin_con-idx">Indexing in <code>EnergyModelsHydrogen</code></a><a id="aux-lin_reform-bin_con-idx-1"></a><a class="docs-heading-anchor-permalink" href="#aux-lin_reform-bin_con-idx" title="Permalink"></a></h3><p><code>EnergyModelsHydrogen</code> provides two functions for the linear reformulation which differ with respect to the indexing of the individual variables. It would be also possible to include the indexing within the function call, but it is preferable to create the anonymous auxiliary variables within a single call.</p><p>These two functions differ in the time structure indexing. Mathematically, this is given as</p><ol><li><span>$z[t] = x[t] \times b[t]$</span> and</li><li><span>$z[t_a, t_b] = x[t_b] \times b[t_a, t_b]$</span>.</li></ol><p>The linear reformulations are available through the function <a href="../../library/internals/methods-EMH/#EnergyModelsHydrogen.linear_reformulation"><code>EnergyModelsHydrogen.linear_reformulation()</code></a></p><h2 id="aux-lin_reform-bin_bin"><a class="docs-heading-anchor" href="#aux-lin_reform-bin_bin">Product of two binary variablees</a><a id="aux-lin_reform-bin_bin-1"></a><a class="docs-heading-anchor-permalink" href="#aux-lin_reform-bin_bin" title="Permalink"></a></h2><p>The element-wise product <span>$z$</span> of <span>$n$</span> binary variables <span>$x_i$</span>, that is</p><p class="math-container">\[z = \prod_{i=1}^n x_i,\]</p><p>can be reformulated as</p><p class="math-container">\[\begin{aligned}
z &amp; \leq x_i \qquad\qquad\qquad \text{for } i = 1,\ldots,n \\
z &amp; \geq \sum_{i=1}^n x_i - (n-1)
\end{aligned}\]</p><p>This reformulation is exact.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../how-to/contribute/">« Contribute to EnergyModelsHydrogen</a><a class="docs-footer-nextpage" href="../pressure_calc/">Compression energy »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Monday 16 December 2024 14:40">Monday 16 December 2024</span>. Using Julia version 1.11.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
